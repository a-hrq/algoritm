#include<stdio.h>
#include<stdlib.h>
typedef struct pessoa{
char nome[50];
int documento;
int idade;
} Pessoa;

void preencher(Pessoa *x1){
    printf("Digite o nome da pessoa: ");
    scanf("%[^\n]", &x1->nome);
    printf("Digite o numero do documento da pessoa: ");
    scanf("%d", &x1->documento);
    printf("Digite a idade da pessoa:");
    scanf("%d", &x1->idade);
}

void imprimir(Pessoa *x1){
    printf("O nome da pessoa: %s\n", x1->nome);
    printf("A idade da pessoa: %d\n", x1->idade);
    printf("O numero do documento da pessoa: %d\n", x1->documento);
}

void modifica(Pessoa *x1){
x1->idade = x1->idade - 5;
printf("Vc ficou 5 anos mais novo!");
}



void maisvelhamaisnova(int qtd, Pessoa *v4){
int v, n, i;

for(i = 0; i < qtd; i++){
	if(i == 0){
		v = i;
		n = i;
	} else {
		if(v4[v].idade < v4[i].idade){
			v = i;
		}
		if(v4[n].idade > v4[i].idade){
			n = i;
		}
	}
}
printf("O nome da pessoa mais velha eh: %s\n", v4[v].nome);
printf("O nome da pessoa mais nova eh: %s", v4[n].nome);
}

int main(){
int qtd, i;
printf("Digite o numero de pessoas que voce deseja cadastrar: ");
scanf("%d", &qtd);
Pessoa *v4 = (Pessoa*) malloc(qtd*sizeof(Pessoa));

if(v4 == NULL){
	exit(1);
}
fflush(stdin);
for(i = 0; i < qtd; i++){
printf("Digite o nome da %d pessoa:", i+1);
scanf("%[^\n]", &v4[i].nome);
fflush(stdin);
printf("Digite o nuemro do documento da %d pessoa:", i+1);
scanf("%d", &v4[i].documento);
printf("Digite a idade da %d pessoa:", i+1);
scanf("%d", &v4[i].idade);
fflush(stdin);
printf("\n\n");
}
maisvelhamaisnova(qtd, v4);
free(v4);

printf("\n\nSegunda parte\n\n");

Pessoa x1;
preencher(&x1);
imprimir(&x1);
modifica(&x1);
return 0;
}
